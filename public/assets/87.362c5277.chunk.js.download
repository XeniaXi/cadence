(this["webpackJsonponline-banking-app"]=this["webpackJsonponline-banking-app"]||[]).push([[87],{1410:function(e,n,t){"use strict";t.d(n,"b",(function(){return p})),t.d(n,"a",(function(){return l}));var a=t(54),r=t(76),i=t(0),o=t.n(i),c=t(1383),s=t.n(c),u=function(e){var n=null!==e&&void 0!==e?e:{},t=n.ibSignOnCgiUrl,a=n.ibTargetCgiUrl,r=n.userId,i=n.password,o=n.overrideLanguage,c=function(){alert("This login session is not allowed as you might already have an existing Internet Banking session on this computer. If you wish to login again, please close all open Internet Banking sessions and / or browser windows and begin again. If it doesn't work, wait for 10 minutes and try again."),window.location.href="".concat("/dbank/live/","app/home")};t?s()(t,(function(){if("function"===typeof submitFPW){var e=document.createElement("form");e.style.display="none",e.action=a,e.method="POST",e.innerHTML=function(e,n,t){return'\n        <input type="hidden" name="runmode" value="SIGN_IN"/>\n        <input type="hidden" name="DISESSIONID" value=""/>\n\n        <input type="hidden" name="userNumber" maxLength="32" tabIndex="1"\n               value="'.concat(e,'"/>\n        <input type="hidden" name="password" maxLength="12" tabIndex="2"\n               value="').concat(n,'"/>\n        ').concat(t?'<input type="hidden" name="overrideLanguage" value="'.concat(t,'"/>'):"","       \n    ")}(r,i,o),document.body.appendChild(e),window.submitFPW(e)}else c()}),c):c()},p=function(){var e=Object(r.a)(Object(a.a)().mark((function e(n,t,r,i,o){var c,s,p,l,d,g,f,h,m,b;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!o){e.next=7;break}return e.next=4,n.externalLogin(r);case 4:c=e.sent,e.next=10;break;case 7:return e.next=9,n.login(r);case 9:c=e.sent;case 10:if(p=(s=c||{}).targetView,l=s.targetData,d=s.footerConfig,"restore_mfa_redirect"!==p){e.next=16;break}return g=(l||{}).unAuthenticatedAllowedUser,e.next=15,n.loginRedirect(g);case 15:c=e.sent;case 16:p=(f=c||{}).targetView,l=f.targetData,d=f.footerConfig,"consumer_login"===p?i(p,l,d):"approval_status"===p?t.push("/app/approval-status",{approvalStatusConfig:l}):"redirect"===p?t.push(l):"regapp_ars_redirector"===p?t.push("/app/register"):"ibredirector"===p&&u(l),e.next=36;break;case 23:if(e.prev=23,e.t0=e.catch(0),console.log("Error logging in",e.t0),!e.t0){e.next=35;break}if(h=e.t0.response,m=e.t0.responseText,!h||!m||429!==h.status){e.next=35;break}return"setTimeout(function() { document.getElementsByTagName('head')[0].appendChild(cpo); }, 2000);",b=(b=m).replace("document.getElementsByTagName('head')[0].appendChild(cpo);","setTimeout(function() { document.getElementsByTagName('head')[0].appendChild(cpo); }, 2000);"),document.write(b),document.close(),e.abrupt("return");case 35:t.push("/app/unavailable");case 36:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(n,t,a,r,i){return e.apply(this,arguments)}}();function l(e){return function(n){return o.a.createElement(e,Object.assign({},n,{handleLoginSubmit:p}))}}},2275:function(e,n,t){"use strict";t.r(n);var a,r,i=t(54),o=t(76),c=t(2),s=t(3),u=t(4),p=t(5),l=t(0),d=t.n(l),g=t(79),f=t(25),h=t.n(f),m=t(53),b=t(65),v=t(83),w=t.n(v),y=t(1410),O=Object(g.b)("authenticationStore")(a=Object(g.c)((r=function(e){Object(u.a)(t,e);var n=Object(p.a)(t);function t(){var e;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=n.call.apply(n,[this].concat(r))).state={},e}return Object(s.a)(t,[{key:"render",value:function(){var e=this.state.loginConfig;if(e){var n,t=e.targetView,a=e.targetData,r=e.footerConfig;return"consumer_login"===t&&(n=a),d.a.createElement(b.Redirect,{to:{pathname:"/app/login/consumer",state:{loginPageProps:n,loginPageFooterConfig:r}}})}return d.a.createElement(m.a,null)}},{key:"componentDidMount",value:function(){var e=Object(o.a)(Object(i.a)().mark((function e(){var n,t,a,r,o,c,s=this;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.props,t=n.authenticationStore,a=n.history,r=n.handleLoginSubmit,o=n.location,c=w.a.parse(o.search),r(t,a,c=c||{},(function(e,n,t){s.setState({loginConfig:{targetView:e,targetData:n,footerConfig:t}})}),!0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(l.Component),r.defaultProps={history:null,authenticationStore:null},r.propTypes={history:h.a.instanceOf(Object),location:h.a.instanceOf(Object),authenticationStore:h.a.instanceOf(Object),handleLoginSubmit:h.a.func.isRequired},a=r))||a)||a;n.default=Object(y.a)(O)}}]);
//# sourceMappingURL=87.362c5277.chunk.js.map